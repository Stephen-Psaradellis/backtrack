# Login Flow Test
# Tests successful authentication with valid credentials
#
# Prerequisites:
# - App installed and launched
# - User logged out

appId: app.backtrack.social
---
# Launch app with clean state to ensure we're on login screen
- launchApp:
    clearState: true

# Wait for the auth screen to load
- waitForAnimationToEnd

# Verify we're on the login screen
- assertVisible: "Welcome Back"

# Enter email using testID
- tapOn:
    id: "email-input"
- eraseText: 50
- inputText: "s.n.psaradellis@gmail.com"

# Enter password using testID
- tapOn:
    id: "password-input"
- eraseText: 50
- inputText: "Test1234!"

# Dismiss keyboard with back button
- pressKey: back

# Tap Sign In button
- tapOn: "Sign In"

# Wait for authentication to complete
- extendedWaitUntil:
    visible: "Your Favorites"
    timeout: 25000

# Verify we've navigated to the home screen
- assertVisible: "Backtrack"
